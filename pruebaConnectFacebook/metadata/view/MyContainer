{
    "type": "Ext.Container",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "id": "containerPrueba",
        "designer|userClassName": "MyContainer",
        "designer|initialView": true,
        "layout": "fit"
    },
    "designerId": "802223ee-432a-4aaa-9dfa-88318ebddb7f",
    "cn": [
        {
            "type": "Ext.TitleBar",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "docked": "top",
                "designer|userClassName": "MyTitleBar",
                "title": "FacebookConnect"
            },
            "designerId": "3974c722-9317-4753-8244-49e7e8dbfdce"
        },
        {
            "type": "Ext.Button",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "MyButton",
                "text": "Connect / Log In"
            },
            "designerId": "67f725b8-5ab5-4cfb-9d49-04bfaa845eea",
            "cn": [
                {
                    "type": "fixedfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|userClassName": "handler",
                        "fn": "handler",
                        "designer|params": [
                            "button",
                            "event"
                        ],
                        "implHandler": [
                            "try{",
                            "",
                            "",
                            "",
                            "",
                            "    FB.getLoginStatus(function(response) {",
                            "        if (response.status == 'connected') {",
                            "            alert('logged in');",
                            "        } else {",
                            "            alert('not logged in');",
                            "        }",
                            "    });",
                            "",
                            "",
                            "",
                            "",
                            "",
                            "    FB.getLoginStatus(function(response) {",
                            "        if (response.status==\"connected\") {",
                            "            var url = '/me?fields=name,email';",
                            "            FB.api(url, function(response) {",
                            "                //se envia por extraParams la info del usuario de FB",
                            "",
                            "                //variables para enviar por extraParams",
                            "                alert(response.name);",
                            "                alert(response.id);",
                            "                alert(response.email);\t",
                            "                alert(response.birthday);",
                            "                alert(response.picture);",
                            "            });",
                            "",
                            "            Ext.Msg.alert('Aviso', 'Su sesión ya está iniciada y autorizada.', Ext.emptyFn);",
                            "",
                            "        } else if (response.status==\"not_authorized\") {",
                            "            // not_authorized",
                            "            login();",
                            "",
                            "            ///",
                            "            ///",
                            "",
                            "",
                            "        } else {",
                            "            // not_logged_in",
                            "            login();",
                            "",
                            "",
                            "            ///",
                            "            ///",
                            "",
                            "",
                            "",
                            "        }",
                            "    },{ perms: 'email' });",
                            "    }",
                            "    catch(e){",
                            "        Ext.Msg.alert('Aviso', 'No se pudo conectar con Facebook.', Ext.emptyFn);",
                            "    }",
                            "",
                            "",
                            "//Ext.getCmp(\"panelFacebookDisplay\").setHidden(0);",
                            ""
                        ]
                    },
                    "designerId": "2749497e-a1d1-4490-83d6-ea2d0cd80727"
                }
            ]
        },
        {
            "type": "Ext.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "height": "70%",
                "hidden": true,
                "id": "panelFacebookDisplay",
                "left": "10%",
                "top": "10%",
                "width": "80%",
                "designer|userClassName": "MyPanel",
                "layout": "fit"
            },
            "designerId": "c9303313-79e1-4833-86a9-046b33f7e965",
            "cn": [
                {
                    "type": "Ext.TitleBar",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "docked": "top",
                        "designer|userClassName": "MyTitleBar1",
                        "title": "FacebookCnct"
                    },
                    "designerId": "c826affb-4f1f-4706-8702-6dea7a8934e0"
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "docked": "bottom",
                        "ui": "confirm",
                        "designer|userClassName": "MyButton1",
                        "text": "Esconder"
                    },
                    "designerId": "857eb45e-705a-4bce-b95c-b183c0443cc3",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|userClassName": "handler",
                                "fn": "handler",
                                "designer|params": [
                                    "button",
                                    "event"
                                ],
                                "implHandler": [
                                    "Ext.getCmp(\"panelFacebookDisplay\").setHidden(1);"
                                ]
                            },
                            "designerId": "29e20436-e12f-418c-b5a9-428031adc43c"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": "<div id=\"log\"></div>",
                        "designer|userClassName": "MyContainer1",
                        "layout": "fit"
                    },
                    "designerId": "7f4a0cf5-f855-4735-a17b-b4ee81bff877"
                }
            ]
        }
    ]
}